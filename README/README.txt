第二版box硬件改动
CTRL_SIM868E_PWR从PB0改到PA5
增加切换UART的控制信号 - switch(PB0)
switch信号为低电平,868E的GNSS_UART连接到868E_UART2
switch信号为高电平,868E的GNSS_UART连接到MCU的UART2
==================================================

box0.9_2版本主要测试SIM868部分(通过SIM868可以读取电池电压)

1.根据电路图设计，开发板上电后，所有寄存器都是默认值。led0-5全亮.
2.测串口3能否正常发送或接收数据.
3.串口1可以正常收发数据

问题：
<影响功能>
1.SIM868的GPS引脚 没有 和stm32的串口2 连接
2.Box连接不上GSM网络（感觉天线有问题）

通过SIM868的AT+CBC读取电池电压(3.7V、3000mAh)
[17:30:17.330] AT+CBC
[17:30:17.330] +CBC: 0,47,3780(mV)
[17:30:17.330] 
[17:30:17.330] OK
[17:30:17.336] AT+CBC
[17:30:17.336] +CBC: 0,47,3780
[17:30:17.336] 
[17:30:17.336] OK
[17:30:17.336] 
[17:30:18.340] AT+CBC
[17:30:18.340] +CBC: 0,47,3780
[17:30:18.340] 
[17:30:18.340] OK
[17:30:18.340] AT+CBC
[17:30:18.340] +CBC: 0,47,3780
[17:30:18.340] 
[17:30:18.340] OK
[17:30:18.340] 
[17:30:19.340] AT+CBC
[17:30:19.340] +CBC: 0,47,3780
[17:30:19.340] 
[17:30:19.340] OK
[17:30:19.340] AT+CBC
[17:30:19.347] 
[17:30:19.347] +CBC: 0,47,3780
[17:30:19.347] 

蓝牙操作：
1.对模块进行上电 AT+BTPOWER=1
*.断开所有连接 
2.设置蓝牙名 AT+BTHOST=5uCloud
3.设置可见性 AT+BTVIS=1
4.其他设备连接(判断+BTPAIRING:),允许连接 AT+BTPAIR=1,1
5.密码配对(判断+BTCONNECTING:),接收 AT+BTACPT=1
6.判断是否连接成功(+BTCONNECT:)
7.读取数据(+BTSPPDATA:)
8.发送数据 AT+BTSPPSEND

AT+BTHOST?
[10:15:19.151] +BTHOST: 5uCloud,48:e6:c0:24:b1:29
[10:15:19.155] 
[10:15:19.155] OK

[10:53:59.062] SMS Ready
[10:53:59.062] 
//用第一个手机配对
[10:53:59.062] +BTPAIRING: "lq",d8:c7:71:e4:52:8f,795397
[10:53:59.065] AT+BTPAIR=1,1
[10:53:59.065] OK
[10:53:59.065] 
//用第二个手机配对
[10:55:26.575] 
[10:55:26.575] +BTPAIR: 1,"lq",d8:c7:71:e4:52:8f
[10:55:26.575] 
[10:55:26.575] +BTCONNECT: 1,"lq",d8:c7:71:e4:52:8f,"HFP"
[10:55:26.585] 
[10:55:26.585] +BTDISCONN: "lq",d8:c7:71:e4:52:8f,"HFP"
[10:55:26.585] 
[10:55:26.585] +BTPAIRING: "HUAWEI MT7-TL10",8c:34:fd:5b:7a:b4,770673
[10:55:26.589] AT+BTPAIR=1,1
[10:55:26.589] OK

Box蓝牙接收数据
[14:00:50.038] +BTSPPDATA: 2,11,Hello World 
[14:00:53.341] 
[14:00:53.341] +BTSPPDATA: 2,11,Hello World

[14:04:58.123] +BTSPPDATA: 2,8,5uClound
[14:04:58.130] 
[14:04:58.130] +BTSPPDATA: 2,8,5uClound

Box接收并发送数据
[14:46:24.542] +BTCONNECTING: "d8:c7:71:e4:52:8f","SPP"
[14:46:24.542] AT+BTACPT=1
[14:46:24.542] OK
[14:46:24.542] 
[14:46:24.542] +BTCONNECT: 2,"lq",d8:c7:71:e4:52:8f,"SPP"
[14:46:24.546] 
[14:46:42.553] 
[14:46:42.553] +BTSPPDATA: 2,11,Hello World
[14:46:42.553] AT+BTSPPSEND
[14:46:42.553] > Hello World
[14:46:42.553] 
[14:46:42.553] SEND OK
[14:46:42.553] 
[14:46:46.162] 
[14:46:46.162] +BTSPPDATA: 2,11,Hello World
[14:46:46.162] AT+BTSPPSEND
[14:46:46.162] > Hello World
[14:46:46.162] 
[14:46:46.162] SEND OK
[14:46:46.162] 
[14:46:48.672] 
[14:46:48.672] +BTSPPDATA: 2,11,Hello World
[14:46:48.672] AT+BTSPPSEND
[14:46:48.672] > Hello World
[14:46:48.672] 
[14:46:48.672] SEND OK
[14:46:48.672] 
[14:46:50.083] 
[14:46:50.083] +BTSPPDATA: 2,11,Hello World
[14:46:50.083] AT+BTSPPSEND
[14:46:50.083] > Hello World
[14:46:50.083] 
[14:46:50.083] SEND OK
[14:46:50.083] 
[14:47:10.183] 
[14:47:10.183] +BTSPPDATA: 2,8,5uClound
[14:47:10.191] AT+BTSPPSEND
[14:47:10.191] > 5uClound
[14:47:10.191] 
[14:47:10.191] SEND OK
[14:47:10.191] 
[14:47:11.593] 
[14:47:11.593] +BTSPPDATA: 2,8,5uClound
[14:47:11.593] AT+BTSPPSEND
[14:47:11.601] > 5uClound
[14:47:11.601] 
[14:47:11.601] SEND OK
[14:47:11.601] 
[14:47:14.103] 
[14:47:14.103] +BTSPPDATA: 2,8,5uClound
[14:47:14.103] AT+BTSPPSEND
[14:47:14.103] > 5uClound
[14:47:14.103] 
[14:47:14.108] SEND OK
[14:47:14.108] 

===================第二版硬件====================
测试GSM、GPRS网络：
串口打印：可以正常连接
网络助手：可以正常接收数据

[2019-11-18 11:26:38.942]# Client 192.168.0.137:2129 gets online.

[2019-11-18 11:26:38.948]# Client 192.168.0.137:2129 gets offline.

[2019-11-18 11:26:39.040]# Client 192.168.0.137:2131 gets online.

[2019-11-18 11:26:39.076]# Client 192.168.0.137:2131 gets offline.

[2019-11-18 11:32:20.106]# Client 192.168.0.137:2681 gets online.

[2019-11-18 11:32:20.962]# RECV HEX FROM 192.168.0.137 :2681>
68 65 6C 6C 6F 20 77 6F 72 6C 64 20 6C 69 75 20 71 69 61 6E 67 

[2019-11-18 11:32:21.960]# RECV HEX FROM 192.168.0.137 :2681>
68 65 6C 6C 6F 20 77 6F 72 6C 64 20 6C 69 75 20 71 69 61 6E 67 

[2019-11-18 11:32:22.983]# RECV HEX FROM 192.168.0.137 :2681>
68 65 6C 6C 6F 20 77 6F 72 6C 64 20 6C 69 75 20 71 69 61 6E 67 

[2019-11-18 11:32:23.860]# RECV HEX FROM 192.168.0.137 :2681>
68 65 6C 6C 6F 20 77 6F 72 6C 64 20 6C 69 75 20 71 69 61 6E 67 

[2019-11-18 11:32:25.000]# RECV ASCII FROM 192.168.0.137 :2681>
hello world liu qiang

[2019-11-18 11:32:25.903]# RECV ASCII FROM 192.168.0.137 :2681>
hello world liu qiang

[2019-11-18 11:32:27.000]# RECV ASCII FROM 192.168.0.137 :2681>
hello world liu qiang

[2019-11-18 11:32:27.984]# RECV ASCII FROM 192.168.0.137 :2681>
hello world liu qiang

[2019-11-18 11:32:28.942]# RECV ASCII FROM 192.168.0.137 :2681>
hello world liu qiang

[2019-11-18 11:32:29.984]# RECV ASCII FROM 192.168.0.137 :2681>
hello world liu qiang

[2019-11-18 11:32:30.808]# RECV ASCII FROM 192.168.0.137 :2681>
hello world liu qiang

[2019-11-18 11:32:31.800]# RECV ASCII FROM 192.168.0.137 :2681>
hello world liu qiang

[2019-11-18 11:32:33.021]# RECV ASCII FROM 192.168.0.137 :2681>
hello world liu qiang

[2019-11-18 11:32:33.940]# RECV ASCII FROM 192.168.0.137 :2681>
hello world liu qiang

[2019-11-18 11:32:34.901]# RECV ASCII FROM 192.168.0.137 :2681>
hello world liu qiang

[2019-11-18 11:32:35.965]# RECV ASCII FROM 192.168.0.137 :2681>
hello world liu qiang

[2019-11-18 11:32:36.848]# RECV ASCII FROM 192.168.0.137 :2681>
hello world liu qiang

[2019-11-18 11:32:37.979]# RECV ASCII FROM 192.168.0.137 :2681>
hello world liu qiang

[2019-11-18 11:32:38.821]# RECV ASCII FROM 192.168.0.137 :2681>
hello world liu qiang

[2019-11-18 11:32:40.039]# RECV ASCII FROM 192.168.0.137 :2681>
hello world liu qiang

[2019-11-18 11:32:40.878]# RECV ASCII FROM 192.168.0.137 :2681>
hello world liu qiang

[2019-11-18 11:32:41.901]# RECV ASCII FROM 192.168.0.137 :2681>
hello world liu qiang

[2019-11-18 11:32:42.960]# RECV ASCII FROM 192.168.0.137 :2681>
hello world liu qiang

[2019-11-18 11:32:43.981]# RECV ASCII FROM 192.168.0.137 :2681>
hello world liu qiang

[2019-11-18 11:32:45.058]# RECV ASCII FROM 192.168.0.137 :2681>
hello world liu qiang

[2019-11-18 11:32:45.939]# RECV ASCII FROM 192.168.0.137 :2681>
hello world liu qiang

[2019-11-18 11:32:46.885]# RECV ASCII FROM 192.168.0.137 :2681>
hello world liu qiang
